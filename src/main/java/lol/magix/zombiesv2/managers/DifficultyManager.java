package lol.magix.zombiesv2.managers;

import lol.magix.zombiesv2.Difficulty;
import lol.magix.zombiesv2.ZombiesV2;
import lol.magix.zombiesv2.states.GameState;
import lombok.Getter;
import net.minecraft.scoreboard.ScoreboardObjective;

/*
 * Game lasts 100 minecraft days.
 * Values listed are in game difficulty.
 * Each day is a new wave with a harder difficulty. Armor, weapons, enchantments, and abilities are increased.
 * If a player happens to die, the difficulty multiplier is increased
 *
 *            | Has Armor % | Full Armor % | Enchanted Armor % | Full Armor Enchant % | Enchant Level Range | Has Weapon % | Weapon Type |  Enchanted Weapon % | Enchant Level Range | Has Ability(s) % | Ability Count Range | Ability Rarity Multiplier | Ability Level Multiplier |
 * None:
 *     001 -  |     000     |     000      |        000        |         000          |      (00 - 00)      |       5      |      1      |         000         |      (00 - 01)      |       000        |      (00 - 00)      |            000            |            000           |
 *     002 -  |     000     |     000      |        000        |         000          |      (00 - 00)      |      10      |      2      |         000         |      (00 - 01)      |       000        |      (00 - 00)      |            000            |            000           |
 *     003 -  |     000     |     000      |        000        |         000          |      (00 - 00)      |      15      |      3      |         000         |      (00 - 01)      |       000        |      (00 - 00)      |            000            |            000           |
 * Leather: 4-10
 *     004 -  |     010     |     020      |        005        |         020          |      (00 - 01)      |     025      |      1      |         000         |      (00 - 02)      |       000        |      (00 - 00)      |            000            |            000           |
 *     005 -  |     020     |     040      |        010        |         020          |      (00 - 01)      |     030      |      1      |         000         |      (00 - 02)      |       000        |      (00 - 00)      |            000            |            000           |
 *     006 -  |     035     |     060      |        020        |         015          |      (00 - 02)      |     040      |      2      |         000         |      (00 - 02)      |       000        |      (00 - 00)      |            000            |            000           |
 *     007 -  |     050     |     080      |        035        |         015          |      (00 - 02)      |     050      |      3      |         000         |      (00 - 02)      |       000        |      (00 - 00)      |            000            |            000           |
 *     008 -  |     070     |     100      |        055        |         040          |      (01 - 02)      |     060      |      3      |         010         |      (00 - 02)      |       000        |      (00 - 00)      |            000            |            000           |
 *     009 -  |     095     |     100      |        090        |         060          |      (01 - 02)      |     080      |      2      |         030         |      (00 - 02)      |       000        |      (00 - 00)      |            000            |            000           |
 *     010 -  |     100     |     100      |        100        |         080          |      (02 - 02)      |     100      |      2      |         050         |      (00 - 02)      |       000        |      (00 - 00)      |            000            |            000           |
 * Iron: 11-40
 *     011 -  |     010     |     005      |        030        |         025          |      (00 - 01)      |     020      |      1      |         000         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     012 -  |     020     |     010      |        025        |         025          |      (00 - 01)      |     020      |      1      |         000         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     013 -  |     030     |     015      |        020        |         025          |      (00 - 02)      |     020      |      1      |         000         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     014 -  |     040     |     020      |        015        |         025          |      (00 - 02)      |     030      |      2      |         000         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     015 -  |     050     |     025      |        010        |         025          |      (00 - 03)      |     030      |      2      |         000         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     016 -  |     060     |     030      |        010        |         025          |      (00 - 03)      |     030      |      2      |         000         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     017 -  |     070     |     035      |        010        |         025          |      (00 - 04)      |     040      |      3      |         000         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     018 -  |     080     |     040      |        020        |         050          |      (00 - 04)      |     040      |      3      |         000         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     019 -  |     090     |     045      |        020        |         050          |      (01 - 02)      |     040      |      3      |         010         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     020 -  |     100     |     050      |        020        |         050          |      (01 - 02)      |     050      |      4      |         010         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     021 -  |     100     |     055      |        020        |         050          |      (01 - 02)      |     050      |      4      |         010         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     022 -  |     100     |     060      |        020        |         050          |      (01 - 03)      |     050      |      4      |         010         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     023 -  |     100     |     065      |        030        |         050          |      (01 - 03)      |     060      |      3      |         010         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     024 -  |     100     |     070      |        030        |         050          |      (01 - 03)      |     060      |      3      |         030         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     025 -  |     100     |     075      |        030        |         075          |      (01 - 04)      |     060      |      3      |         030         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     026 -  |     100     |     080      |        030        |         075          |      (01 - 05)      |     070      |      3      |         030         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     027 -  |     100     |     085      |        020        |         075          |      (02 - 03)      |     070      |      3      |         030         |      (00 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     028 -  |     100     |     090      |        020        |         075          |      (02 - 03)      |     070      |      3      |         030         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     029 -  |     100     |     095      |        020        |         075          |      (02 - 03)      |     080      |      3      |         030         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     030 -  |     100     |     100      |        020        |         075          |      (02 - 04)      |     080      |      4      |         030         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     031 -  |     100     |     100      |        020        |         075          |      (02 - 04)      |     080      |      4      |         030         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     032 -  |     100     |     100      |        030        |         075          |      (02 - 04)      |     090      |      4      |         030         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     033 -  |     100     |     100      |        040        |         100          |      (03 - 04)      |     090      |      4      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     034 -  |     100     |     100      |        050        |         100          |      (03 - 04)      |     090      |      4      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     035 -  |     100     |     100      |        060        |         100          |      (03 - 04)      |     100      |      4      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     036 -  |     100     |     100      |        070        |         070          |      (03 - 04)      |     100      |      4      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     037 -  |     100     |     100      |        080        |         080          |      (04 - 04)      |     100      |      4      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     038 -  |     100     |     100      |        090        |         090          |      (04 - 04)      |     085      |      5      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     039 -  |     100     |     100      |        100        |         100          |      (04 - 04)      |     085      |      5      |         080         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     040 -  |     100     |     100      |        100        |         100          |      (04 - 04)      |     085      |      5      |         080         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 * Diamond: 41-70 (Zombies stop burning!)
 *     041 -  |     100     |     005      |        030        |         025          |      (04 - 06)      |     020      |      1      |         020         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     042 -  |     100     |     010      |        025        |         025          |      (04 - 06)      |     020      |      1      |         020         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     043 -  |     100     |     015      |        020        |         025          |      (04 - 06)      |     020      |      1      |         020         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     044 -  |     100     |     020      |        015        |         025          |      (04 - 06)      |     030      |      2      |         020         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     045 -  |     100     |     025      |        010        |         025          |      (04 - 06)      |     030      |      2      |         020         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     046 -  |     100     |     030      |        010        |         025          |      (04 - 06)      |     030      |      2      |         020         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     047 -  |     100     |     035      |        010        |         025          |      (04 - 06)      |     040      |      3      |         020         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     048 -  |     100     |     040      |        020        |         050          |      (04 - 06)      |     040      |      3      |         020         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     049 -  |     100     |     045      |        020        |         050          |      (04 - 06)      |     040      |      3      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     050 -  |     100     |     050      |        020        |         050          |      (04 - 06)      |     050      |      4      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     051 -  |     100     |     055      |        020        |         050          |      (04 - 06)      |     050      |      4      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     052 -  |     100     |     060      |        020        |         050          |      (05 - 08)      |     050      |      4      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     053 -  |     100     |     065      |        030        |         050          |      (05 - 08)      |     060      |      3      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     054 -  |     100     |     070      |        030        |         050          |      (05 - 08)      |     060      |      3      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     055 -  |     100     |     075      |        030        |         075          |      (05 - 08)      |     060      |      3      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     056 -  |     100     |     080      |        030        |         075          |      (05 - 08)      |     070      |      3      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     057 -  |     100     |     085      |        020        |         075          |      (05 - 08)      |     070      |      3      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     058 -  |     100     |     090      |        020        |         075          |      (05 - 08)      |     070      |      3      |         050         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     059 -  |     100     |     095      |        020        |         075          |      (05 - 08)      |     080      |      3      |         070         |      (01 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     060 -  |     100     |     100      |        020        |         075          |      (05 - 08)      |     080      |      4      |         070         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     061 -  |     100     |     100      |        020        |         075          |      (05 - 08)      |     080      |      4      |         070         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     062 -  |     100     |     100      |        030        |         075          |      (05 - 08)      |     090      |      4      |         070         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     063 -  |     100     |     100      |        040        |         100          |      (05 - 08)      |     090      |      4      |         070         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     064 -  |     100     |     100      |        050        |         100          |      (06 - 09)      |     090      |      4      |         070         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     065 -  |     100     |     100      |        060        |         100          |      (06 - 09)      |     100      |      4      |         070         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     066 -  |     100     |     100      |        070        |         070          |      (06 - 09)      |     100      |      4      |         070         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     067 -  |     100     |     100      |        080        |         080          |      (06 - 09)      |     100      |      4      |         100         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     068 -  |     100     |     100      |        090        |         090          |      (06 - 09)      |     085      |      5      |         100         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     069 -  |     100     |     100      |        100        |         100          |      (06 - 09)      |     085      |      5      |         100         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 *     070 -  |     100     |     100      |        100        |         100          |      (06 - 09)      |     085      |      5      |         100         |      (02 - 03)      |       000        |      (00 - 00)      |            000            |            000           |
 * Netherite: 71-100
 *     071 -  |     100     |     005      |        030        |         025          |      (06 - 09)      |     020      |      1      |         010         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     072 -  |     100     |     010      |        025        |         025          |      (06 - 09)      |     020      |      1      |         010         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     073 -  |     100     |     015      |        020        |         025          |      (06 - 09)      |     020      |      1      |         010         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     074 -  |     100     |     020      |        015        |         025          |      (06 - 09)      |     030      |      2      |         010         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     075 -  |     100     |     025      |        010        |         025          |      (06 - 09)      |     030      |      2      |         010         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     076 -  |     100     |     030      |        010        |         025          |      (06 - 09)      |     030      |      2      |         020         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     077 -  |     100     |     035      |        010        |         025          |      (07 - 09)      |     040      |      3      |         020         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     078 -  |     100     |     040      |        020        |         050          |      (07 - 09)      |     040      |      3      |         020         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     079 -  |     100     |     045      |        020        |         050          |      (07 - 09)      |     040      |      3      |         020         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     080 -  |     100     |     050      |        020        |         050          |      (07 - 09)      |     050      |      4      |         020         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     081 -  |     100     |     055      |        020        |         050          |      (07 - 09)      |     050      |      4      |         020         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     082 -  |     100     |     060      |        020        |         050          |      (07 - 09)      |     050      |      4      |         020         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     083 -  |     100     |     065      |        030        |         050          |      (07 - 09)      |     060      |      3      |         020         |      (02 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     084 -  |     100     |     070      |        030        |         050          |      (07 - 09)      |     060      |      3      |         035         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     085 -  |     100     |     075      |        030        |         075          |      (07 - 09)      |     060      |      3      |         035         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     086 -  |     100     |     080      |        030        |         075          |      (07 - 09)      |     070      |      3      |         035         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     087 -  |     100     |     085      |        020        |         075          |      (07 - 09)      |     070      |      3      |         035         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     088 -  |     100     |     090      |        020        |         075          |      (07 - 09)      |     070      |      3      |         035         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     089 -  |     100     |     095      |        020        |         075          |      (07 - 10)      |     080      |      3      |         035         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     090 -  |     100     |     100      |        020        |         075          |      (08 - 10)      |     080      |      4      |         050         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     091 -  |     100     |     100      |        020        |         075          |      (08 - 10)      |     080      |      4      |         050         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     092 -  |     100     |     100      |        030        |         075          |      (08 - 10)      |     090      |      4      |         050         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     093 -  |     100     |     100      |        040        |         100          |      (08 - 10)      |     090      |      4      |         050         |      (03 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     094 -  |     100     |     100      |        050        |         100          |      (08 - 10)      |     090      |      4      |         050         |      (04 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     095 -  |     100     |     100      |        060        |         100          |      (08 - 10)      |     100      |      4      |         050         |      (04 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     096 -  |     100     |     100      |        070        |         070          |      (08 - 10)      |     100      |      4      |         070         |      (04 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     097 -  |     100     |     100      |        080        |         080          |      (10 - 10)      |     100      |      4      |         070         |      (04 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     098 -  |     100     |     100      |        090        |         090          |      (10 - 10)      |     085      |      5      |         070         |      (04 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     099 -  |     100     |     100      |        100        |         100          |      (10 - 10)      |     085      |      5      |         100         |      (04 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *     100 -  |     100     |     100      |        100        |         100          |      (10 - 10)      |     085      |      5      |         100         |      (04 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *
 *     Aft -  |     100     |     100      |        100        |         100          |      (10 - 10)      |     100      |      0      |         100         |      (04 - 04)      |       000        |      (00 - 00)      |            000            |            000           |
 *
 *
 *
 * Wood       1
 * Stone      2
 * Iron       3
 * Diamond    4
 * Netherite  5
 *
 *            | Tool Type |
 *     000 -  |     1     |
 *     001 -  |     2     |
 *     002 -  |     3     |
 *     003 -  |     4     |
 *     004 -  |     5     |
 *
 *
 * Sharpness    1 - 5
 * Knockback    1 - 2
 * Fire Aspect  1 - 2
 *
 *            |  Sharpness  |  Knockback  |  Fire Aspect  |
 *     000 -  |     00      |      0      |       0       |
 *     001 -  |     01      |      0      |       0       |
 *     002 -  |     01      |      0      |       0       |
 *     003 -  |     02      |      0      |       0       |
 *     004 -  |     02      |      1      |       1       |
 *     005 -  |     03      |      0      |       0       |
 *     006 -  |     03      |      1      |       1       |
 *     007 -  |     04      |      1      |       1       |
 *     008 -  |     04      |      1      |       1       |
 *     009 -  |     05      |      2      |       1       |
 *     010 -  |     05      |      2      |       2       |
 *
 *
 *
 * Protection   1 - 4
 *
 *            |  Protection  |
 *     000 -  |      00      |
 *     001 -  |      01      |
 *     002 -  |      02      |
 *     003 -  |      03      |
 *     004 -  |      04      |
 */

/**
 * Manages the increasing difficulty of the game.
 */
public final class DifficultyManager {
    private GameState gameState = new GameState();
    private ScoreboardObjective gameInfo;

    @Getter private Difficulty difficulty = Difficulty.D1;

    /**
     * Called when the mod initializes.
     */
    public void initialize() {
        this.gameState = ZombiesV2.getInstance().getGameState();
        this.gameInfo = ZombiesV2.getInstance().getGameInfo();
    }

    /**
     * Called when the server performs a tick.
     */
    public void tick() {
        // Update the difficulty.
        this.difficulty = Difficulty.valueOf("D" +
                Math.min(101, this.gameState.getDifficulty()));

        if (this.gameInfo == null ||
                this.gameState == null)
            return;

        this.gameInfo.getScoreboard()
                .getPlayerScore("Day", this.gameInfo)
                .setScore(this.gameState.getDayCount());
        this.gameInfo.getScoreboard()
                .getPlayerScore("Difficulty", this.gameInfo)
                .setScore(Math.round(this.gameState.getDifficulty()));
    }

    /**
     * Called when the server shuts down.
     */
    public void shutdown() {

    }
}
